# โก ุญู ููุฑู ููุดููุฉ "Failed to fetch"

## ๐ฏ ุงููุดููุฉ
ุนูุฏ ุงูุถุบุท ุนูู "ุฅุฑุณุงู ุขูู (ECDH)" ุชุธูุฑ ุฑุณุงูุฉ:
- "ุฎุทุฃ ุจุงูุฅุฑุณุงู"
- "ูุดู ุงูุงุชุตุงู ุจุงูุฎุงุฏู Failed to fetch"

---

## โ ุงูุญู ุงูุณุฑูุน (ุฎุทูุฉ ุจุฎุทูุฉ)

### ุงูุฎุทูุฉ 1: ุงูุชุญูู ูู ููู `.env` โก

1. **ุงูุชุญ ููู `.env`** ูู ุงููุฌูุฏ ุงูุฑุฆูุณู
2. **ุชุฃูุฏ ูู ูุฌูุฏ:**

```env
VITE_SUPABASE_URL=https://qxtdcqwhqfuhlhwoffem.supabase.co
VITE_SUPABASE_PUBLISHABLE_KEY=your_anon_key_here
```

**โ๏ธ ููู:**
- ูุง ุชุถุน ูุณุงูุงุช ุญูู `=`
- ูุง ุชุถุน ุนูุงูุงุช ุงูุชุจุงุณ
- URL ูุฌุจ ุฃู ูุจุฏุฃ ุจู `https://` ูููุชูู ุจุฏูู `/`

**ุฅุฐุง ูุงู ุงูููู ูุงุฑุบุงู ุฃู ุบูุฑ ููุฌูุฏ:**
1. ุฃูุดุฆ ููู `.env` ุฌุฏูุฏ
2. ุงูุณุฎ ูุงูุตู:
   ```env
   VITE_SUPABASE_URL=https://qxtdcqwhqfuhlhwoffem.supabase.co
   VITE_SUPABASE_PUBLISHABLE_KEY=
   ```
3. ุงุญุตู ุนูู `anon key`:
   - ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู: **qxtdcqwhqfuhlhwoffem**
   - **Settings** โ **API**
   - ุงูุณุฎ `anon` `public` key
   - ุงูุตูู ุจุนุฏ `VITE_SUPABASE_PUBLISHABLE_KEY=`

---

### ุงูุฎุทูุฉ 2: ูุดุฑ Edge Functions โก

**ูุฐู ูู ุงูุฎุทูุฉ ุงูุฃูู!**

1. **ุงูุชุญ Supabase Dashboard:**
   - https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู: **qxtdcqwhqfuhlhwoffem**

2. **Edge Functions** โ **Create a new function**

3. **ุฃูุดุฆ Function 1: handshake**
   - **Name:** `handshake`
   - **Code:** ุงูุชุญ `supabase/functions/handshake/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู
   - ุงูุตูู ูู Code Editor
   - ุงุถุบุท **Deploy**

4. **ุฃูุดุฆ Function 2: vein-upload**
   - **Name:** `vein-upload`
   - **Code:** ุงูุชุญ `supabase/functions/vein-upload/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู
   - ุงูุตูู ูู Code Editor
   - ุงุถุบุท **Deploy**

5. **ุฃูุดุฆ Function 3: vein-secure-upload**
   - **Name:** `vein-secure-upload`
   - **Code:** ุงูุชุญ `supabase/functions/vein-secure-upload/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู
   - ุงูุตูู ูู Code Editor
   - ุงุถุบุท **Deploy**

**โ ูุฌุจ ุฃู ุชุฑู 3 functions ูู ุงููุงุฆูุฉ**

---

### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู โก

**ููู ุฌุฏุงู!** ุจุนุฏ ุชุนุฏูู `.env` ูุฌุจ ุฅุนุงุฏุฉ ุงูุชุดุบูู:

1. **ุฃููู ุงูุชุทุจูู:**
   - ุงุถุบุท `Ctrl+C` ูู Terminal

2. **ุดุบูู ุงูุชุทุจูู ูู ุฌุฏูุฏ:**
   ```bash
   npm run dev
   ```

3. **ุงูุชุธุฑ ุญุชู ูุธูุฑ:**
   ```
   VITE v5.x.x  ready in xxx ms
   โ  Local:   http://localhost:5173/
   ```

---

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ โก

1. **ุงูุชุญ ุงููุชุตูุญ:** http://localhost:5173
2. **Complete Profile** โ **ุงูุชูุท ุตูุฑุฉ**
3. **ุฅุฑุณุงู ุขูู (ECDH)**

**ูุฌุจ ุฃู ุชุฑู:**
- โ "ุชู ุงูุฅุฑุณุงู ุงูุขูู ุจูุฌุงุญ"
- โ **ูุง** ุชุฑู "Failed to fetch"

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### 1. ุชุญูู ูู Console (F12)

ุงูุชุญ Developer Tools (F12) โ **Console** tab

ุงุจุญุซ ุนู:
- ุฃุฎุทุงุก JavaScript
- ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุฌุฏูุฏุฉ (ุงูุขู ุฃูุซุฑ ูุถูุญุงู)

### 2. ุชุญูู ูู Network Tab (F12)

1. **Network** tab
2. ุญุงูู ุฅุฑุณุงู ุงูุจูุงูุงุช ูุฑุฉ ุฃุฎุฑู
3. ุงุจุญุซ ุนู ุงูุทูุจ ุงููุงุดู (ุจุงูููู ุงูุฃุญูุฑ)
4. ุงุถุบุท ุนููู ูุฑุคูุฉ:
   - **Status:** 404 = Function ุบูุฑ ููุฌูุฏ
   - **Request URL:** ุชุญูู ูู ุฃูู ุตุญูุญ
   - **Response:** ุฑุงุฌุน ุฑุณุงูุฉ ุงูุฎุทุฃ

### 3. ุงุฎุชุจุงุฑ ูุจุงุดุฑ ูู Console

ุงูุชุญ Console (F12) ูุงูุตู:

```javascript
// ุงุณุชุจุฏู YOUR_ANON_KEY ุจููุชุงุญู ูู .env
const url = 'https://qxtdcqwhqfuhlhwoffem.supabase.co';
const key = 'YOUR_ANON_KEY';

fetch(`${url}/functions/v1/handshake`, {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${key}`,
    'Content-Type': 'application/json',
  },
})
.then(r => {
  console.log('Status:', r.status);
  return r.json();
})
.then(data => {
  console.log('โ ูุฌุญ!', data);
})
.catch(err => {
  console.error('โ ูุดู:', err);
});
```

**ุฅุฐุง ูุฌุญ:** Edge Function ูุนูู โ
**ุฅุฐุง ูุดู:** 
- ุชุญูู ูู ุฃู Function ููุดูุฑุฉ
- ุชุญูู ูู ุฃู anon key ุตุญูุญ

---

## ๐ Checklist ุณุฑูุน

- [ ] ููู `.env` ููุฌูุฏ ููุญุชูู ุนูู ุงููุชุบูุฑุงุช ุงูุตุญูุญุฉ
- [ ] `VITE_SUPABASE_URL` ุตุญูุญ (ูุจุฏุฃ ุจู `https://`)
- [ ] `VITE_SUPABASE_PUBLISHABLE_KEY` ููุฌูุฏ ูุตุญูุญ
- [ ] Edge Functions ููุดูุฑุฉ (3 functions)
- [ ] ุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู ุจุนุฏ ุชุนุฏูู `.env`

---

## ๐ก ุงูุฃุณุจุงุจ ุงูุฃูุซุฑ ุดููุนุงู

1. **Edge Functions ุบูุฑ ููุดูุฑุฉ** (80%)
   - ุงูุญู: ุฑุงุฌุน ุงูุฎุทูุฉ 2

2. **ููู `.env` ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุญูุญ** (15%)
   - ุงูุญู: ุฑุงุฌุน ุงูุฎุทูุฉ 1

3. **ูู ูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู** (5%)
   - ุงูุญู: ุฑุงุฌุน ุงูุฎุทูุฉ 3

---

## ๐ฏ ุงูุญู ุงูุณุฑูุน ุฌุฏุงู

ุฅุฐุง ููุช ุชุฑูุฏ ุญู ุณุฑูุน:

1. **ุงูุชุญ Supabase Dashboard**
2. **Edge Functions** โ ุชุฃูุฏ ูู ูุฌูุฏ 3 functions
3. ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ โ ุฃูุดุฆูุง (ุฑุงุฌุน ุงูุฎุทูุฉ 2)
4. **ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู** (`Ctrl+C` ุซู `npm run dev`)

---

**โ ุจุนุฏ ุชุทุจูู ูุฐู ุงูุฎุทูุงุชุ ูุฌุจ ุฃู ูุนูู ูู ุดูุก!**

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุฑุงุฌุน `TROUBLESHOOTING.md` ููุญููู ุงูุชูุตูููุฉ.

