# ๐ ุฏููู ูุดุฑ Edge Functions - ุฎุทูุฉ ุจุฎุทูุฉ ุจุงูุตูุฑ

## โ๏ธ ุงููุดููุฉ
"Failed to fetch" ูุนูู ุฃู **Edge Functions ุบูุฑ ููุดูุฑุฉ**

---

## โ ุงูุญู: ูุดุฑ Edge Functions (ุฎุทูุฉ ุจุฎุทูุฉ)

### ุงูุฎุทูุฉ 1: ูุชุญ Supabase Dashboard

1. ุงุฐูุจ ุฅูู: **https://supabase.com/dashboard**
2. **ุณุฌู ุงูุฏุฎูู**
3. **ุงุฎุชุฑ ูุดุฑูุนู** (URL: `wpephofbbvqmllmueumw`)

---

### ุงูุฎุทูุฉ 2: ูุชุญ Edge Functions

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ: ุงุถุบุท **Edge Functions**
2. ุฅุฐุง ุฑุฃูุช ูุงุฆูุฉ ุจู functions โ ุฌูุฏ โ
3. ุฅุฐุง ุฑุฃูุช "Create a new function" โ ุงุถุบุท ุนููู

---

### ุงูุฎุทูุฉ 3: ูุดุฑ Function 1: handshake

1. **Name:** ุงูุชุจ `handshake` (ุจุงูุถุจุทุ ุจุฏูู ูุณุงูุงุช)
2. **Code Editor:**
   - ุงูุชุญ ููู: `supabase/functions/handshake/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู (Ctrl+A ุซู Ctrl+C)
   - ุงูุตูู ูู Code Editor (Ctrl+V)
3. **Deploy:**
   - ุงุถุบุท ุฒุฑ **Deploy** (ุฃู **Save**)
   - ุงูุชุธุฑ ุญุชู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ โ

**โ ูุฌุจ ุฃู ุชุฑู `handshake` ูู ูุงุฆูุฉ Functions**

---

### ุงูุฎุทูุฉ 4: ูุดุฑ Function 2: vein-upload

1. **Create a new function** ูุฑุฉ ุฃุฎุฑู
2. **Name:** `vein-upload`
3. **Code:**
   - ุงูุชุญ: `supabase/functions/vein-upload/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู
   - ุงูุตูู ูู Code Editor
4. **Deploy**

**โ ูุฌุจ ุฃู ุชุฑู `vein-upload` ูู ุงููุงุฆูุฉ**

---

### ุงูุฎุทูุฉ 5: ูุดุฑ Function 3: vein-secure-upload

1. **Create a new function** ูุฑุฉ ุฃุฎุฑู
2. **Name:** `vein-secure-upload`
3. **Code:**
   - ุงูุชุญ: `supabase/functions/vein-secure-upload/index.ts`
   - ุงูุณุฎ **ูู** ุงููุญุชูู
   - ุงูุตูู ูู Code Editor
4. **Deploy**

**โ ูุฌุจ ุฃู ุชุฑู `vein-secure-upload` ูู ุงููุงุฆูุฉ**

---

## โ ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ูุดุฑ ุฌููุน Functions:

1. **ูุฌุจ ุฃู ุชุฑู 3 functions:**
   - โ `handshake`
   - โ `vein-upload`
   - โ `vein-secure-upload`

2. **ุงุฎุชุจุงุฑ ุณุฑูุน:**
   - ุงุถุบุท ุนูู `handshake`
   - ุงุถุบุท **Invoke** ุฃู **Test**
   - ูุฌุจ ุฃู ุชุฑู ุงุณุชุฌุงุจุฉ JSON

---

## ๐งช ุงุฎุชุจุงุฑ ูู ุงูุชุทุจูู

1. **ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู:**
   ```bash
   # ุฃููู (Ctrl+C)
   npm run dev
   ```

2. **ุงูุชุญ:** http://localhost:5173
3. **Complete Profile** โ **ุงูุชูุท ุตูุฑุฉ**
4. **ุฅุฑุณุงู ุขูู (ECDH)**

**ูุฌุจ ุฃู ุชุฑู:**
- โ "ุชู ุงูุฅุฑุณุงู ุงูุขูู ุจูุฌุงุญ"
- โ **ูุง** ุชุฑู "Failed to fetch"

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### 1. ุชุญูู ูู Logs

- Supabase Dashboard โ Edge Functions โ ุงุฎุชุฑ function โ **Logs**
- ุงุจุญุซ ุนู ุฃุฎุทุงุก

### 2. ุชุญูู ูู ุงูููุฏ

- ุชุฃูุฏ ูู ูุณุฎ **ูู** ุงููุญุชูู ูู ุงูููู
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู Code Editor

### 3. ุงุฎุชุจุงุฑ ูุจุงุดุฑ

ุงูุชุญ `test-edge-functions.html` ูู ุงููุชุตูุญ:
- ุงููุฃ URL ู Anon Key
- ุงุถุบุท "ุงุฎุชุจุงุฑ ุงููู"
- ุฅุฐุง ุฑุฃูุช 404 โ Functions ุบูุฑ ููุดูุฑุฉ

---

## ๐ก ูุตุงุฆุญ ูููุฉ

1. **ุงูุฃุณูุงุก ูููุฉ:** ูุฌุจ ุฃู ุชููู ุจุงูุถุจุท:
   - `handshake` (ููุณ `Handshake` ุฃู `HANDSHAKE`)
   - `vein-upload` (ููุณ `vein_upload`)
   - `vein-secure-upload` (ููุณ `vein_secure_upload`)

2. **ุงูููุฏ:** ุงูุณุฎ **ูู** ุงููุญุชููุ ูุง ุชูุณ ุฃู ุดูุก

3. **Deploy:** ุจุนุฏ Deployุ ุงูุชุธุฑ ุญุชู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ

---

## โ Checklist

- [ ] Edge Functions โ ูุฌุจ ุฃู ุชุฑู 3 functions
- [ ] ูู function ููุดูุฑ (ูุธูุฑ ูู ุงููุงุฆูุฉ)
- [ ] ุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
- [ ] ุงุฎุชุจุงุฑ ูู ุงูุชุทุจูู ูุฌุญ

---

**๐ฏ ุจุนุฏ ูุดุฑ ุฌููุน Edge Functionsุ ูุฌุจ ุฃู ูุนูู ูู ุดูุก!**

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุฑุงุฌุน Logs ูู Supabase Dashboard.

